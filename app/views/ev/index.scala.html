@(implicit l: models.ev.I18nLanguage)

@import models.ev._

  @readMore(more: Html) = {
    <span class='readMore'></span>
    <span>@more</span>
  }

  @art(a: Argument) = {
     <div class="topArgument">
         <div>
           <div><i class='icon-play'></i>
           <span class='titre'>@(Html(a.title))<span>
         </div>
         <div class='punch'>
            @(Html(a.start))
            @readMore(Html(a.rest))</div>
        </div>
     </div>
  }

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

   @css("equivote.css")
   @css("equivote2.css")
   @css("ballot.css")

  

   <style type="text/css">
    .topArgument:hover {
      color: #9C0001;
    }
    
    .readMore {
      font-weight: bold;
      font-size: 1.5em;
    }
    
    .topArgument {
      margin-bottom: 20px;
    }
        
    .topArgument.active {
      color: #9C0001;
    }
        
    .topArgument .titre {
      font-size: 1.6em;
    }

    .topArgument > div > i {
      margin-right: 10px
    }
    
    .punch {
      margin-left:20px;
      margin-top: 10px;
    }
    
    .moreToReadHide {
      display: none;
    }

    .defn  {
      font-size: 18px;
      text-align: justify;
      font-style: italic;
      margin-top: 20px;
    }
    
    .defn > :first-child {
      font-size: 1.3em;
      font-weight: bold;
    }

    .navbar-fixed-top {
      margin: 0px
    }
    
    .topPanel {
      border-style: solid;
      float: reset;
    }
    .siteIdBox {
      padding-top: 30px;
      padding-bottom: 30px;    
      float: left;
      margin-left: 20px;
      width: 60px;
      font-size: 3.6em;
      font-weight: bold;
    }
    .topPanel > .rightBox {
      padding-top: 30px;
      padding-bottom: 30px;
      float: right;
      width: 630px;
    }

    .rightBox > h1 {
      margin-left: 70px;
    }
    .rightBox > p {
      font-style: italic;
      text-align: right;
      margin-right: 30px;
    }
    
    .lowerHomePage  {
      margin-top:20px;
    }

    .lowerHomePage > div > h1 {
      text-align: center;
      margin-bottom: 18px;
    }
    
    .socialBox {
      margin-top: 10px;
      margin-left: 150px;
      float: reset;
    }
    
    .socialBox > div {
      float: left;
      margin-left: 20px;
    }
   </style>
  </head>

    <body>
      @topNav()

      <div class='container'>
        <div class="row topPanel">
            <h1 class='siteIdBox'>EquiVote</h1>
            <div class='rightBox'> 
               <h3>Un regroupement citoyen pour l'instauration du</h3>
               <h1>@(Main.evaluativeVoting.!)</h1>
               <p>Inversons le déficit démocratique, pendant que c'est encore possible.</p>
            </div>
        </div>

        <div class="row">
          <div class='span12'>
            <div class="row lowerHomePage">
              <div class='span6 lowerHomePageLeft'>
  
                   <p class='defn'><span>Vote Évaluatif</span> : un système de vote où l'électeur évalue chaque candidat à l'aide d'un score numérique,
                      le gagnant est celui dont la somme des scores est la plus élevée.
                   </p>
     
                  <h2>Trois variantes du vote évaluatif</h2>
  
                   @tabs("Approbation", "Par Valeur", "Jugement Majoritaire") {
                     <h2>Le vote par Approbation</h2>

                     L'électeur vote pour autant de candidat qu'il approuve.
                     <br/>
                     Le fait qu'il soit possible de voter pour <b>plus d'un</b> candidat, fait
                     en sorte que l'électeur puisse <b>toujours</b> voter pour celui ou ceux qu'il approuve.
                     @avBallot
                   } {
                     <h2>Le vote par Valeur</h2>
                     L'électeur donne un score entre -2 et +2 à chacun des candidats, celui dont la <b>somme</b>
                     des scores est la plus élevée gagne.
                     @rvBallot()
                   } {
                     <h2>Le Jugement Majoritaire</h2>
                     L'électeur donne un score entre -2 et +2 à chacun des candidats, celui dont la <b>médiane</b>
                     des scores est la plus élevée gagne. Presqu'identique au vote par valeur, où le gagnant est 
                     déterminé par la <b>somme</b> la plus élevée. 
                     @rvBallot()
                   }
              </div>
              <div class='span6'>
                <h1>Pourquoi ?</h1>
                @art(Arguments.end2PartyDomination.!)
                @art(Arguments.solveVoteDivision.!)
                @art(Arguments.endSimpleMajorityDictatorsihp.!)
              </div>
            </div>
          </div>
        </div>
      </div>
      
     @scripts(l)
    </body> 

</html>

    @avBallot = { @Main.exampleAVBallot.map { b =>
       <div class='avballot av'>
         <div>
           <span>@b.title</span><br>
           <span>@Html(b.instructions)</span>
         </div>
         <div class="btn-group" data-toggle="buttons-checkbox">
           <ul>
             @for(c <- b.candidates) {
               @avRow(c._1, c._2)
             }
           </ul>
         </div>
       </div>
      }
    }
    
    @avRow(candidateName: String, score: Int) = {
      <li>
        <span>@candidateName</span>
        <a avscore='@score' class='btn'>X</a>
      </li>
    }


   @rvRow(name: String, score: Int) = {
       <li>
         <span>@name</span>
         <div class="btn-group" data-toggle="buttons-radio">
            @for(i <- Seq(-2,-1,0,1,2)) {
              <a class='btn @(if(i == score) "active" else "")'>@i</a>
            }
         </div>
       </li>
   }

   @rvBallot() = { @Main.exampleRVBallot.map { b =>
         <div class="avballot rv">
            <div>
              <span>@b.title</span><br>
              <span>@Html(b.instructions)</span>
            </div>
            <div>
              <ul>
                @for(c <- b.candidates) {
                   @rvRow(c._1, c._2)
                }
              </ul>
            </div>
          </div>   
     }
   }
    
  @topNav() = {
      <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="brand" href="/fr">Equivote.ca</a>
            <div class="nav-collapse">
              <ul class="nav">
                <li class="divider-vertical"></li>
                <li>@socialBox</li>
              </ul>
  
            <ul class="nav pull-right">
<!--            
              <li><a href="/equivote/fr">Français</a></li>
              <li><a href="/equivote/en">English</a></li>
              <li class="divider-vertical"></li>
              <li><a>Contact</a></li>
-->
            </ul>
  
            </div>
          </div>
        </div>
      </div>  
  }
 
 @tabs(t1: String, t2: String, t3: String)(c1: Html)(c2: Html)(c3: Html) = {
 
   <div class="tabbable">
    <ul class="nav nav-tabs">
      <li class="active"><a href="#tab1" data-toggle="tab">
        <i class='icon-play'></i>&nbsp;@t1</a>
      </li>
      <li><a href="#tab2" data-toggle="tab"><i class='icon-play'></i>&nbsp;@t2</a></li>
      <li><a href="#tab3" data-toggle="tab"><i class='icon-play'></i>&nbsp;@t3</a></li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane active" id="tab1">
        @c1
      </div>
      <div class="tab-pane" id="tab2">
        @c2
      </div>
      <div class="tab-pane" id="tab3">
        @c3
      </div>      
    </div>
  </div>
}


@socialBox = {
   <div class='socialBox'>
   <div><a href="https://twitter.com/share" class="twitter-share-button" data-via="equivote" data-count="none">Tweet</a></div>
   <div><a href="https://twitter.com/equivote" class="twitter-follow-button" data-show-count="false">Follow</a></div>
    <div 
      class="fb-like" 
      data-href="https://www.facebook.com/Equivote" 
      data-send="true" 
      data-layout="button_count" 
      data-show-faces="false" 
      data-action="recommend"></div>
   </div>
}

