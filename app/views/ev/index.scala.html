@(implicit l: models.ev.I18nLanguage)

@import models.ev._

  @readMore(more: Html) = {
    <span class='readMore'></span>
    <span>@more</span>
  }

  @art(a: Argument) = {
     <div class="topArgument">
         <div>
           <div><i class='icon-play'></i>
           <span class='titre'>@(Html(a.title))<span>
         </div>
         <div class='punch'>
            @(Html(a.start))
            @readMore(Html(a.rest))</div>
        </div>
     </div>
  }

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

   @css("equivote.css")
   @css("equivote2.css")
   @css("ballot.css")

  

   <style type="text/css">
    .topArgument:hover {
      color: #9C0001;
    }
    
    .readMore {
      font-weight: bold;
      font-size: 1.5em;
    }
    
    .topArgument {
      margin-bottom: 20px;
    }
        
    .topArgument.active {
      color: #9C0001;
    }
        
    .topArgument .titre {
      font-size: 1.6em;
    }

    .topArgument > div > i {
      margin-right: 10px
    }
    
    .punch {
      margin-left:20px;
      margin-top: 10px;
    }
    
    .moreToReadHide {
      display: none;
    }

    .defn  {
      font-size: 18px;
      text-align: justify;
      font-style: italic;
      margin-top: 20px;
    }
    
    .defn > :first-child {
      font-size: 1.3em;
      font-weight: bold;
    }

    .navbar-fixed-top {
      margin: 0px
    }
    
    .topPanel {
      border-style: solid;
      float: reset;
    }
    .siteIdBox {
      padding-top: 30px;
      padding-bottom: 30px;    
      float: left;
      margin-left: 20px;
      width: 60px;
      font-size: 3.6em;
      font-weight: bold;
    }
    .topPanel > .rightBox {
      padding-top: 30px;
      padding-bottom: 30px;
      float: right;
      width: 630px;
    }

    .rightBox > h1 {
      margin-left: 70px;
    }
    .rightBox > p {
      font-style: italic;
      text-align: right;
      margin-right: 30px;
    }
    
    .lowerHomePage  {
      margin-top:20px;
    }

    .lowerHomePage > div > h1 {
      text-align: center;
      margin-bottom: 18px;
    }
    
    .socialBox {
      margin-top: 10px;
      margin-left: 150px;
      float: reset;
    }
    
    .socialBox > div {
      float: left;
      margin-left: 20px;
    }
   </style>
  </head>

    <body>
      @topNav()

      <div class='container'>
      
        <div class="row topPanel">
        
            <h1 class='siteIdBox'>EquiVote</h1>
            
            <div class='rightBox'> 
            
               <h3>@(Main.citizendForEvaluativeVoting.!)</h3>
               
               <h1>@(Main.evaluativeVoting.!)</h1>
               
               <p>@(Main.invertTheDemocraticDeficitWHileWeStillCan.!)</p>
            </div>
        </div>

        <div class="row">
          <div class='span12'>
            <div class="row lowerHomePage">
              <div class='span6 lowerHomePageLeft'>
  
                   @Html(Main.definitionOfEV.!)
     
                   <h2>@(Main.threeVariations.!.preamble)</h2>
  
                   @tabs(Main.threeVariations.!)
              </div>
              <div class='span6'>
              
                <h1>@Html(Main.why.!)</h1>
                
                @art(Arguments.end2PartyDomination.!)
                @art(Arguments.solveVoteDivision.!)
                @art(Arguments.endSimpleMajorityDictatorsihp.!)
              </div>
            </div>
          </div>
        </div>
      </div>
      
     @scripts(l)
    </body> 

</html>

    @avBallot = { @Main.exampleAVBallot.map { b =>
       <div class='avballot av'>
         <div>
           <span>@b.title</span><br>
           <span>@Html(b.instructions)</span>
         </div>
         <div class="btn-group" data-toggle="buttons-checkbox">
           <ul>
             @for(c <- b.candidates) {
               @avRow(c._1, c._2)
             }
           </ul>
         </div>
       </div>
      }
    }
    
    @avRow(candidateName: String, score: Int) = {
      <li>
        <span>@candidateName</span>
        <a avscore='@score' class='btn'>X</a>
      </li>
    }


   @rvRow(name: String, score: Int) = {
       <li>
         <span>@name</span>
         <div class="btn-group" data-toggle="buttons-radio">
            @for(i <- Seq(-2,-1,0,1,2)) {
              <a class='btn @(if(i == score) "active" else "")'>@i</a>
            }
         </div>
       </li>
   }

   @rvBallot() = { @Main.exampleRVBallot.map { b =>
         <div class="avballot rv">
            <div>
              <span>@b.title</span><br>
              <span>@Html(b.instructions)</span>
            </div>
            <div>
              <ul>
                @for(c <- b.candidates) {
                   @rvRow(c._1, c._2)
                }
              </ul>
            </div>
          </div>   
     }
   }
    
  @topNav() = {
      <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="brand" href="/fr">Equivote.ca</a>
            <div class="nav-collapse">
              <ul class="nav">
                <li class="divider-vertical"></li>
                <li>@socialBox</li>
              </ul>
  
            <ul class="nav pull-right">
<!--            
              <li><a href="/equivote/fr">Fran√ßais</a></li>
              <li><a href="/equivote/en">English</a></li>
              <li class="divider-vertical"></li>
              <li><a>Contact</a></li>
-->
            </ul>
  
            </div>
          </div>
        </div>
      </div>  
  }

 @tabs(tv: ThreeVariations) = {
 
   <div class="tabbable">
    <ul class="nav nav-tabs">
      <li class="active"><a href="#tab1" data-toggle="tab">
        <i class='icon-play'></i>&nbsp;@tv.approval.short</a>
      </li>
      <li><a href="#tab2" data-toggle="tab"><i class='icon-play'></i>&nbsp;@tv.range.short</a></li>
      <li><a href="#tab3" data-toggle="tab"><i class='icon-play'></i>&nbsp;@tv.majorityJudgement.short</a></li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane active" id="tab1">

         <h2>@tv.approval.longer</h2>
         @Html(tv.approval.completeDesc)
         @avBallot
                             
      </div>
      <div class="tab-pane" id="tab2">
      
         <h2>@tv.range.longer</h2>
         @Html(tv.range.completeDesc)
         @rvBallot
         
      </div>
      <div class="tab-pane" id="tab3">
      
         <h2>@tv.majorityJudgement.longer</h2>
         @Html(tv.majorityJudgement.completeDesc)
         @rvBallot

      </div>
    </div>
  </div>
}

@socialBox = {
   <div class='socialBox'>
   <div><a href="https://twitter.com/share" class="twitter-share-button" data-via="equivote" data-count="none">Tweet</a></div>
   <div><a href="https://twitter.com/equivote" class="twitter-follow-button" data-show-count="false">Follow</a></div>
    <div 
      class="fb-like" 
      data-href="https://www.facebook.com/Equivote" 
      data-send="true" 
      data-layout="button_count" 
      data-show-faces="false" 
      data-action="like"></div>
   </div>
}
